<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RPN计算器使用说明</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; margin: 0; padding: 20px; background: #f5f5f5; }
        .container { max-width: 1000px; margin: 0 auto; background: white; padding: 30px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        h1 { color: #333; text-align: center; border-bottom: 2px solid #007acc; padding-bottom: 10px; }
        h2 { color: #007acc; margin-top: 30px; border-left: 4px solid #007acc; padding-left: 10px; }
        h3 { color: #555; }
        .code { background: #f8f8f8; padding: 15px; border-radius: 5px; border-left: 4px solid #007acc; margin: 10px 0; font-family: monospace; }
        .example { background: #e8f4f8; padding: 15px; border-radius: 5px; margin: 10px 0; }
        .error { background: #ffe8e8; color: #d00; padding: 10px; border-radius: 5px; }
        .success { background: #e8ffe8; color: #080; padding: 10px; border-radius: 5px; }
        table { width: 100%; border-collapse: collapse; margin: 15px 0; }
        th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }
        th { background: #007acc; color: white; }
        ul { padding-left: 20px; }
        li { margin: 5px 0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>RPN 计算器使用说明</h1>
        <p><strong>基于逆波兰表示法的命令行计算器 - C++实现</strong></p>

        <h2>概述</h2>
        <p>这是一个基于逆波兰表示法（RPN）的命令行计算器，使用C++实现，支持基本的四则运算和高级数学功能。</p>

        <h2>安装和编译指南</h2>
        
        <h3>前提条件</h3>
        <ul>
            <li>GCC 或 Clang 编译器</li>
            <li>支持C++11或更高版本</li>
        </ul>
        
        <h3>编译步骤</h3>
        <div class="code">
# 编译C++程序
g++ -std=c++11 rpn_calc.cpp -o rpn_calc -lm

# 运行程序
./rpn_calc
        </div>
        
        <p>或者使用提供的编译脚本：</p>
        <div class="code">
chmod +x build.sh
./build.sh
        </div>

        <h2>基本使用示例</h2>
        
        <h3>简单四则运算</h3>
        <div class="example">
            <div class="code">输入: 5 5 +</div>
            <div class="success">结果: 10</div>
            
            <div class="code">输入: 10 2 *</div>
            <div class="success">结果: 20</div>
            
            <div class="code">输入: 15 3 /</div>
            <div class="success">结果: 5</div>
        </div>
        
        <h3>复杂表达式</h3>
        <div class="example">
            <div class="code">输入: 1 2 + 3 + 7 7 * +</div>
            <div class="success">结果: 55</div>
            
            <div class="code">输入: 2 3 ^ 4 + sqrt</div>
            <div class="success">结果: 3.60555</div>
        </div>

        <h2>所有支持的操作说明</h2>
        
        <h3>基本运算</h3>
        <ul>
            <li><code>+</code> : 加法 (a + b)</li>
            <li><code>-</code> : 减法 (a - b)</li>
            <li><code>*</code> : 乘法 (a * b)</li>
            <li><code>/</code> : 除法 (a / b)</li>
        </ul>
        
        <h3>高级数学运算</h3>
        <ul>
            <li><code>sqrt</code> : 平方根 (√a)</li>
            <li><code>^</code> : 幂运算 (a^b)</li>
            <li><code>fib</code> : 斐波那契数列 (输入n, 输出F(n))</li>
            <li><code>pascal</code> : 杨辉三角第n行和</li>
            <li><code>sin/cos/tan</code> : 三角函数 (角度制)</li>
        </ul>
        
        <h3>栈操作命令</h3>
        <ul>
            <li><code>show</code> : 显示当前栈内容</li>
            <li><code>clear</code> : 清空栈</li>
            <li><code>history</code> : 显示计算历史</li>
            <li><code>help</code> : 显示帮助信息</li>
            <li><code>q</code> : 退出程序</li>
        </ul>

        <h2>错误代码和异常说明</h2>
        
        <h3>常见错误类型</h3>
        
        <div class="example">
            <div class="code">输入: +</div>
            <div class="error">Error: Not enough operands for +</div>
            
            <div class="code">输入: 5 0 /</div>
            <div class="error">Error: Division by zero</div>
            
            <div class="code">输入: 5 abc +</div>
            <div class="error">Error: Invalid token 'abc'</div>
            
            <div class="code">输入: -4 sqrt</div>
            <div class="error">Error: Square root of negative number</div>
        </div>

        <h2>示例输入输出</h2>
        
        <h3>基础运算示例</h3>
        <table>
            <tr>
                <th>输入</th>
                <th>输出</th>
                <th>说明</th>
            </tr>
            <tr>
                <td><code>5 3 +</code></td>
                <td>8</td>
                <td>加法运算</td>
            </tr>
            <tr>
                <td><code>10 2 *</code></td>
                <td>20</td>
                <td>乘法运算</td>
            </tr>
            <tr>
                <td><code>15 3 /</code></td>
                <td>5</td>
                <td>除法运算</td>
            </tr>
        </table>
        
        <h3>高级功能示例</h3>
        <table>
            <tr>
                <th>输入</th>
                <th>输出</th>
                <th>说明</th>
            </tr>
            <tr>
                <td><code>9 sqrt</code></td>
                <td>3</td>
                <td>平方根</td>
            </tr>
            <tr>
                <td><code>2 3 ^</code></td>
                <td>8</td>
                <td>幂运算</td>
            </tr>
            <tr>
                <td><code>5 fib</code></td>
                <td>5</td>
                <td>斐波那契数列</td>
            </tr>
            <tr>
                <td><code>3 pascal</code></td>
                <td>8</td>
                <td>杨辉三角行和</td>
            </tr>
        </table>

        <h2>技术实现细节</h2>
        
        <h3>核心类结构</h3>
        <div class="code">
class RPNCalculator {
public:
    void push(double value);
    double pop();
    void calculate(const std::string& operation);
    void clear();
    void displayStack();
    void showHistory();
    bool hasResult();
    double getResult();
};
        </div>

        <h2>批量计算示例</h2>
        <div class="example">
            <div class="code">输入: 1 2 + 3 + 4 + 5 +</div>
            <div class="success">结果: 15</div>
            
            <div class="code">输入: 2 3 ^ 4 5 * + sqrt</div>
            <div class="success">结果: 5.74456</div>
            
            <div class="code">输入: 10 fib 5 pascal +</div>
            <div class="success">结果: 65</div>
        </div>

        <h2>性能特点</h2>
        <ul>
            <li><strong>时间复杂度</strong>: O(n) - 线性时间处理表达式</li>
            <li><strong>空间复杂度</strong>: O(n) - 栈空间使用</li>
            <li><strong>内存管理</strong>: 自动内存管理，无内存泄漏</li>
        </ul>

        <h2>扩展性</h2>
        <p>该计算器设计具有良好的扩展性，可以轻松添加新的数学函数和操作符。</p>

        <h2>许可证</h2>
        <p>本项目采用MIT许可证。</p>

        <hr>
        <p style="text-align: center; color: #666; margin-top: 30px;">
            文档生成时间: 2025年 • RPN计算器项目
        </p>
    </div>
</body>
</html>
